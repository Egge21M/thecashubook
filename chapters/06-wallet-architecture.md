# Chapter 6 — Wallet Architecture

## Reader Outcome
By the end of this chapter, the reader can: <one concrete capability for Chapter 6>

## 6.1 Wallet roles: signer, store, transport, policy engine

**Draft notes**
- 

## 6.2 Local data model (proof table, keyset table, mint table, tx log)

**Draft notes**
- 

## 6.3 Coin/proof selection algorithms (smallest-set, privacy-aware, fee-aware)

**Draft notes**
- 

## 6.4 Change handling and token fragmentation control

**Draft notes**
- 

## 6.5 Multi-mint wallet design and routing rules

**Draft notes**
- 

## 6.6 Backup and recovery: what must be backed up vs reconstructed

**Draft notes**
- 

## 6.7 Seed management and secure key material handling

**Draft notes**
- 

## 6.8 State sync across devices (conflict resolution model)

**Draft notes**
- 

## 6.9 UX implications of async settlement and pending states

**Draft notes**
- 

## 6.10 Offline receive/send considerations

**Draft notes**
- 

## 6.11 Plugin interfaces for app integrations (LNURL, Nostr, API keys)

**Draft notes**
- 

## 6.12 Wallet architecture checklist + anti-patterns

**Draft notes**
- 

---

## Implementation notes (chapter-level)
- Inputs:
- Outputs:
- State transitions:
- Failure boundaries:

## Minimal flow (pseudocode)
```text
# keep tiny and practical
```

## Common failure modes
1. <failure mode>
   - Symptom:
   - Root cause:
   - Mitigation:

## Checklist
- [ ] Sections .1–.12 drafted
- [ ] One concrete flow included
- [ ] One failure-mode table added
- [ ] Cross-links to adjacent chapters added

## Open questions
- 