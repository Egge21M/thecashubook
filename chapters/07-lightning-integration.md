# Chapter 7 — Lightning Integration

## Reader Outcome
By the end of this chapter, the reader can: <one concrete capability for Chapter 7>

## 7.1 Why Lightning is the settlement rail for Cashu today

**Draft notes**
- 

## 7.2 Invoice creation and quote coupling

**Draft notes**
- 

## 7.3 Melt execution with fee reserve handling

**Draft notes**
- 

## 7.4 Fee estimation models and user-facing fee UX

**Draft notes**
- 

## 7.5 Timeout, expiry, and retry strategy

**Draft notes**
- 

## 7.6 HTLC edge cases and partial failure handling

**Draft notes**
- 

## 7.7 Reconciliation after uncertain outcomes

**Draft notes**
- 

## 7.8 Handling stuck/pending melts safely

**Draft notes**
- 

## 7.9 BOLT11 vs future payment formats considerations

**Draft notes**
- 

## 7.10 LN node architecture options (LND/CLN/LNbits/etc.)

**Draft notes**
- 

## 7.11 Operational metrics for LN-Cashu bridges

**Draft notes**
- 

## 7.12 Lightning integration checklist + test matrix

**Draft notes**
- 

---

## Implementation notes (chapter-level)
- Inputs:
- Outputs:
- State transitions:
- Failure boundaries:

## Minimal flow (pseudocode)
```text
# keep tiny and practical
```

## Common failure modes
1. <failure mode>
   - Symptom:
   - Root cause:
   - Mitigation:

## Checklist
- [ ] Sections .1–.12 drafted
- [ ] One concrete flow included
- [ ] One failure-mode table added
- [ ] Cross-links to adjacent chapters added

## Open questions
- 